<ng-container *ngIf="config?.templateOptions?.autocomplete">
  <app-material-auto-complete [class]="class" [extras]="config.templateOptions?.inputTypeOptions"
    [context]="config.context ? formGroup.get(config.context) : null " [default]="config.default"
    [formControlRef]="formGroup.get(config.code)" [options]="config.templateOptions?.options"
    [label]="config.templateOptions.label" [dataLoadStatusDelegate]="dataLoadStatusDelegate"
    [disabled]="config.templateOptions?.disabled" [placeHolder]="config?.templateOptions?.placeHolder"
    [isMultiple]="config.templateOptions.multiple" [labelHtml]="config.templateOptions.labelHtml" [platform]="platform"
    [config]="config"></app-material-auto-complete>
</ng-container>

<div *ngIf="!config?.templateOptions?.autocomplete">
  <ng-container>
    <mat-form-field id={{config.code}} color="accent" appearance="fill" class="w-100 mb-8">
      <mat-label tabindex="0" *ngIf="label" attr.for="{{config?.code}}">{{label}}</mat-label>
      <mat-label *ngIf="labelHtml" attr.for="{{config?.code}}" [innerHTML]="labelHtml | transposeHtml"></mat-label>
      <mat-select *ngIf="!isMultiple" role="listbox" [aria-label]="formControlRef?.value ? 
              ( concatinatedMultipeSelectVal(formControlRef?.value) + ', selected ,'+placeHolder ) : 
              placeHolder" [placeholder]="placeHolder" [formControl]="localFrmControlRef"
        [(ngModel)]="selectedOptions" [compareWith]="comparer" (selectionChange)="singleOptionSelected($event)">
        <mat-option role="option" *ngFor="let option of filteredOptions"
          [value]="option.value" attr.aria-label="{{option?.label}}">
          {{option?.label}}
        </mat-option>
      </mat-select>
      <mat-select *ngIf="isMultiple" multiple role="listbox" [aria-label]="formControlRef?.value ? 
            ( concatinatedMultipeSelectVal(formControlRef?.value) + ', selected ,'+placeHolder ) : 
            placeHolder" [placeholder]="placeHolder" [formControl]="localFrmControlRef"
        [(ngModel)]="selectedOptions" (selectionChange)="singleOptionSelected($event)">
        <mat-option role="option" *ngFor="let option of filteredOptions"
          [value]="option.value" attr.aria-label="{{option?.label}}">
          {{option?.label}}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </ng-container>
</div>